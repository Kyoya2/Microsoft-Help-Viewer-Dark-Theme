
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE; IE=11; IE=9; IE=8; IE=7" />
    <link rel="stylesheet" type="text/css" href="branding.css" />
    <style type="text/css">.cl_CollapsibleArea_expanding {width: auto; height: auto; position: relative; left: 0px;}.cl_CollapsibleArea_collapsing {width: auto; height: auto; position: relative; left: -14px;}.OH_CodeSnippetContainerTabLeftActive, .OH_CodeSnippetContainerTabLeft,.OH_CodeSnippetContainerTabLeftDisabled {background-image: url('tabLeftBG.gif')}.OH_CodeSnippetContainerTabRightActive, .OH_CodeSnippetContainerTabRight,.OH_CodeSnippetContainerTabRightDisabled {background-image: url('tabRightBG.gif')}.OH_footer { background-image: url('footer_slice.gif'); background-position:top; background-repeat:repeat-x}</style>
    <script src="branding.js" type="text/javascript"></script>
    <meta name="Microsoft.Help.TopicVendor" content="Microsoft" />
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
    <meta name="X-UA-Compatible" content="IE=EDGE; IE=11; IE=9; IE=8; IE=7" />
    <meta name="Microsoft.Help.Locale" content="en-us" />
    <meta name="Microsoft.Help.TopicLocale" content="en-us" />
    <meta name="Microsoft.Help.TopicVersion" content="vs-2017" />
    <meta name="Microsoft.Help.Id" content="VS.vcppdocs/cpp/standard-conversions?view=vs-2017" />
    <meta name="SelfBranded" content="false" />
    <meta name="OnlineLinkBase" content="https://docs.microsoft.com/en-us/cpp/cpp/standard-conversions?view=vs-2017" />
    <meta name="BlockOnlineLink" content="true" />
    <meta name="IsPrinterFriendly" content="true" />
    <meta name="Title" content="Standard conversions" />
    <Title>Standard conversions</Title>
    <meta name="Microsoft.Help.Package" content="v2Visual Studio 2017- C++_BC6C65FD_en-us__0" />
    <meta name="Microsoft.Help.Book" content="Visual Studio 2017: C++" />
    <meta name="Microsoft.Help.Keywords" content="standard conversions, categories of" />
    <meta name="Microsoft.Help.Keywords" content="L-values [C++]" />
    <meta name="Microsoft.Help.Keywords" content="conversions, standard" />
    <meta name="Microsoft.Help.Category" content="DevLang:c++" />
    <meta name="Microsoft.Help.TocParent" content="VS.vcppdocs/$fake-Basic concepts-3c5251134dcb4aa7b9bca7d4450331b3?view=vs-2017" />
    <meta name="Microsoft.Help.TocParentTopicVersion" content="vs-2017" />
    <meta name="Microsoft.Help.TocOrder" content="13" />
  </head>
  <body onload="onLoad()" class="primary-mtps-offline-document">
    <span id="HCColorTest"></span>
    <script>setUserPreferenceLang('2');
function CA_Click2(id, ExpandName, CollapsName)
{
    var elem = document.getElementById(id);
    var img = document.getElementById(id + '_img');
    var content = document.getElementById(id + '_c');

    if (!elem)
        return;

    if (!content)
        return;

    if (content.className == 'sectionblock')
    {
        img.className = 'cl_CollapsibleArea_collapsing';
        elem.title = ExpandName;
        content.className = 'sectionnone';
        elem.setAttribute('aria-expanded', 'false');
    }
    else
    {
        img.className = 'cl_CollapsibleArea_expanding';
        elem.title = CollapsName;
        content.className = 'sectionblock';
        elem.setAttribute('aria-expanded', 'true');
    }
}</script>
    <div class="OH_outerDiv">
      <div class="OH_outerContent">
        <div class="OH_topic">
          <div class="OH_title">
            <table>
              <tr>
                <td class="OH_tdTitleColumn">Standard conversions</td>
                <td class="OH_tdLogoColumn">
                  <img id="VSLogo" src="vs_logo_bk.gif" alt="Visual" title="Visual" />
                  <img id="VSLogoHC" style="display:none" src="vs_logo_wh.gif" alt="Visual" title="Visual" />
                </td>
              </tr>
            </table>
          </div>
        </div>
        <table style="width:97%;">
          <tr>
            <td style="text-align:left;"></td>
            <td style="text-align:right;">
              <div class="OH_feedbacklink">
                <img src="online_icon.gif" class="OH_offlineIcon" alt="Online" title="Online" />
                <span>View this topic <a href="https://docs.microsoft.com/en-us/cpp/cpp/standard-conversions?view=vs-2017" target="_blank">online</a> in your default browser.</span>
              </div>
            </td>
          </tr>
        </table>
<div class="topic" xmlns="http://www.w3.org/1999/xhtml">
<div id="mainSection">
<div id="mainBody">10/02/2019<div><p>The C++ language defines conversions between its fundamental types. It also defines conversions for pointer, reference, and pointer-to-member derived types. These conversions are called <span style="font-style:italic">standard conversions</span>.</p><p>This section discusses the following standard conversions:</p><ul><li><p>Integral promotions</p></li><li><p>Integral conversions</p></li><li><p>Floating conversions</p></li><li><p>Floating and integral conversions</p></li><li><p>Arithmetic conversions</p></li><li><p>Pointer conversions</p></li><li><p>Reference conversions</p></li><li><p>Pointer-to-member conversions</p><div class="NOTE"><p>Note</p><p>User-defined types can specify their own conversions. Conversion of user-defined types is covered in <a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2fconstructors-cpp%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/constructors-cpp?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">Constructors</a> and <a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2fuser-defined-type-conversions-cpp%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/user-defined-type-conversions-cpp?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">Conversions</a>.</p></div></li></ul><p>The following code causes conversions (in this example, integral promotions):</p><div id="ID56" class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs" id="ID56_tabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID56_tabimgleft"></div><div id="ID56_tab1" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JavaScript</a></div><div id="ID56_tab2" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>C#</a></div><div id="ID56_tab3" class="OH_CodeSnippetContainerTabActive" EnableCopyCode="true"><a class="languagecode" id="2" href="javascript:ChangeTab('ID56','C++','3','6')">C++</a></div><div id="ID56_tab4" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>F#</a></div><div id="ID56_tab5" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JScript</a></div><div id="ID56_tab6" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>VB</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID56_tabimgright"></div></div><div id="ID56_codecollection" class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID56_ViewColorized" href="javascript:ExchangeTitleContent('ID56','6')" title="View Colorized" style="display: none">View Colorized</a><a id="ID56_copycode" href="javascript:CopyToClipboard('ID56','6')" title="Copy to Clipboard" style="display: none">Copy to Clipboard</a></div></div><div id="ID56_code_Div1" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID56_code_Plain_Div1" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID56_code_Div2" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID56_code_Plain_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID56_code_Div3" class="OH_CodeSnippetContainerCode" style="display: block"><pre><span style="color:blue">long</span>  long_num1, long_num2;
<span style="color:blue">int</span>   int_num;

<span style="color:green">// int_num promoted to type long prior to assignment.</span>
long_num1 = int_num;

<span style="color:green">// int_num promoted to type long prior to multiplication.</span>
long_num2 = int_num * long_num2;
</pre></div><div id="ID56_code_Plain_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre>long  long_num1, long_num2;
int   int_num;

// int_num promoted to type long prior to assignment.
long_num1 = int_num;

// int_num promoted to type long prior to multiplication.
long_num2 = int_num * long_num2;</pre></div><div id="ID56_code_Div4" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID56_code_Plain_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID56_code_Div5" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID56_code_Plain_Div5" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID56_code_Div6" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID56_code_Plain_Div6" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div></div></div><script>addSpecificTextLanguageTagSet('ID56');</script><p>The result of a conversion is an l-value only if it produces a reference type. For example, a user-defined conversion declared as <span class="input">operator int&amp;()</span> returns a reference and is an l-value. However, a conversion declared as <span class="input">operator int()</span> returns an object and isn't an l-value.</p><h2 id="integral-promotions">Integral promotions</h2><p>Objects of an integral type can be converted to another wider integral type, that is, a type that can represent a larger set of values. This widening type of conversion is called <span style="font-style:italic">integral promotion</span>. With integral promotion, you can use the following types in an expression wherever another integral type can be used:</p><ul><li><p>Objects, literals, and constants of type <span style="font-weight:bold">char</span> and <span style="font-weight:bold">short int</span></p></li><li><p>Enumeration types</p></li><li><p><span style="font-weight:bold">int</span> bit fields</p></li><li><p>Enumerators</p></li></ul><p>C++ promotions are "value-preserving," as the value after the promotion is guaranteed to be the same as the value before the promotion. In value-preserving promotions, objects of shorter integral types (such as bit fields or objects of type <span style="font-weight:bold">char</span>) are promoted to type <span style="font-weight:bold">int</span> if <span style="font-weight:bold">int</span> can represent the full range of the original type. If <span style="font-weight:bold">int</span> can't represent the full range of values, then the object is promoted to type <span style="font-weight:bold">unsigned int</span>.  Although this strategy is the same as the one used by Standard C, value-preserving conversions don't preserve the "signedness" of the object.</p><p>Value-preserving promotions and promotions that preserve signedness normally produce the same results. However, they can produce different results if the promoted object appears as:</p><ul><li><p>An operand of <span class="input">/</span>, <span class="input">%</span>, <span class="input">/=</span>, <span class="input">%=</span>, <span class="input">&lt;</span>, <span class="input">&lt;=</span>, <span class="input">&gt;</span>, or <span class="input">&gt;=</span></p><p>These operators rely on sign for determining the result. Value-preserving and sign-preserving promotions produce different results when applied to these operands.</p></li><li><p>The left operand of <span class="input">&gt;&gt;</span> or <span class="input">&gt;&gt;=</span></p><p>These operators treat signed and unsigned quantities differently in a shift operation. For signed quantities, a right shift operation propagates the sign bit into the vacated bit positions, while the vacated bit positions are zero-filled in unsigned quantities.</p></li><li><p>An argument to an overloaded function, or the operand of an overloaded operator, that depends on the signedness of the operand type for argument matching. For more information about defining overloaded operators, see <a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2foperator-overloading%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/operator-overloading?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">Overloaded operators</a>.</p></li></ul><h2 id="integral-conversions">Integral conversions</h2><p><span style="font-style:italic">Integral conversions</span> are conversions between integral types. The integral types are <span style="font-weight:bold">char</span>, <span style="font-weight:bold">short</span> (or <span style="font-weight:bold">short int</span>), <span style="font-weight:bold">int</span>, <span style="font-weight:bold">long</span>, and <span style="font-weight:bold">long long</span>. These types may be qualified with <span style="font-weight:bold">signed</span> or <span style="font-weight:bold">unsigned</span>, and <span style="font-weight:bold">unsigned</span> can be used as shorthand for <span style="font-weight:bold">unsigned int</span>.</p><h3 id="signed-to-unsigned">Signed to unsigned</h3><p>Objects of signed integral types can be converted to corresponding unsigned types. When these conversions occur, the actual bit pattern doesn't change. However, the interpretation of the data changes. Consider this code:</p><div id="ID117" class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs" id="ID117_tabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID117_tabimgleft"></div><div id="ID117_tab1" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JavaScript</a></div><div id="ID117_tab2" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>C#</a></div><div id="ID117_tab3" class="OH_CodeSnippetContainerTabActive" EnableCopyCode="true"><a class="languagecode" id="2" href="javascript:ChangeTab('ID117','C++','3','6')">C++</a></div><div id="ID117_tab4" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>F#</a></div><div id="ID117_tab5" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JScript</a></div><div id="ID117_tab6" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>VB</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID117_tabimgright"></div></div><div id="ID117_codecollection" class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID117_ViewColorized" href="javascript:ExchangeTitleContent('ID117','6')" title="View Colorized" style="display: none">View Colorized</a><a id="ID117_copycode" href="javascript:CopyToClipboard('ID117','6')" title="Copy to Clipboard" style="display: none">Copy to Clipboard</a></div></div><div id="ID117_code_Div1" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID117_code_Plain_Div1" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID117_code_Div2" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID117_code_Plain_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID117_code_Div3" class="OH_CodeSnippetContainerCode" style="display: block"><pre><span style="color:blue">#include</span> &lt;iostream&gt;

<span style="color:blue">using</span> <span style="color:blue">namespace</span> std;
<span style="color:blue">int</span> main()
{
    <span style="color:blue">short</span>  i = -3;
    <span style="color:blue">unsigned</span> <span style="color:blue">short</span> u;

    cout &lt;&lt; (u = i) &lt;&lt; <span style="color:maroon">"\n"</span>;
}
<span style="color:green">// Output: 65533</span>
</pre></div><div id="ID117_code_Plain_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre>#include &lt;iostream&gt;

using namespace std;
int main()
{
    short  i = -3;
    unsigned short u;

    cout &lt;&lt; (u = i) &lt;&lt; "\n";
}
// Output: 65533</pre></div><div id="ID117_code_Div4" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID117_code_Plain_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID117_code_Div5" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID117_code_Plain_Div5" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID117_code_Div6" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID117_code_Plain_Div6" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div></div></div><script>addSpecificTextLanguageTagSet('ID117');</script><p>In the preceding example, a <span style="font-weight:bold">signed short</span>, <span class="input">i</span>, is defined and initialized to a negative number. The expression <span class="input">(u = i)</span> causes <span class="input">i</span> to be converted to an <span style="font-weight:bold">unsigned short</span> before the assignment to <span class="input">u</span>.</p><h3 id="unsigned-to-signed">Unsigned to signed</h3><p>Objects of unsigned integral types can be converted to corresponding signed types. However, if the unsigned value is outside the representable range of the signed type, the result won't have the correct value, as demonstrated in the following example:</p><div id="ID127" class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs" id="ID127_tabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID127_tabimgleft"></div><div id="ID127_tab1" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JavaScript</a></div><div id="ID127_tab2" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>C#</a></div><div id="ID127_tab3" class="OH_CodeSnippetContainerTabActive" EnableCopyCode="true"><a class="languagecode" id="2" href="javascript:ChangeTab('ID127','C++','3','6')">C++</a></div><div id="ID127_tab4" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>F#</a></div><div id="ID127_tab5" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JScript</a></div><div id="ID127_tab6" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>VB</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID127_tabimgright"></div></div><div id="ID127_codecollection" class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID127_ViewColorized" href="javascript:ExchangeTitleContent('ID127','6')" title="View Colorized" style="display: none">View Colorized</a><a id="ID127_copycode" href="javascript:CopyToClipboard('ID127','6')" title="Copy to Clipboard" style="display: none">Copy to Clipboard</a></div></div><div id="ID127_code_Div1" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID127_code_Plain_Div1" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID127_code_Div2" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID127_code_Plain_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID127_code_Div3" class="OH_CodeSnippetContainerCode" style="display: block"><pre><span style="color:blue">#include</span> &lt;iostream&gt;

<span style="color:blue">using</span> <span style="color:blue">namespace</span> std;
<span style="color:blue">int</span> main()
{
<span style="color:blue">short</span>  i;
<span style="color:blue">unsigned</span> <span style="color:blue">short</span> u = 65533;

cout &lt;&lt; (i = u) &lt;&lt; <span style="color:maroon">"\n"</span>;
}
<span style="color:green">//Output: -3</span>
</pre></div><div id="ID127_code_Plain_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre>#include &lt;iostream&gt;

using namespace std;
int main()
{
short  i;
unsigned short u = 65533;

cout &lt;&lt; (i = u) &lt;&lt; "\n";
}
//Output: -3</pre></div><div id="ID127_code_Div4" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID127_code_Plain_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID127_code_Div5" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID127_code_Plain_Div5" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID127_code_Div6" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID127_code_Plain_Div6" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div></div></div><script>addSpecificTextLanguageTagSet('ID127');</script><p>In the preceding example, <span class="input">u</span> is an <span style="font-weight:bold">unsigned short</span> integral object that must be converted to a signed quantity to evaluate the expression <span class="input">(i = u)</span>. Because its value can't be properly represented in a <span style="font-weight:bold">signed short</span>, the data is misinterpreted as shown.</p><h2 id="floating-point-conversions">Floating point conversions</h2><p>An object of a floating type can be safely converted to a more precise floating type — that is, the conversion causes no loss of significance. For example, conversions from <span style="font-weight:bold">float</span> to <span style="font-weight:bold">double</span> or from <span style="font-weight:bold">double</span> to <span style="font-weight:bold">long double</span> are safe, and the value is unchanged.</p><p>An object of a floating type can also be converted to a less precise type, if it's in a range representable by that type. (See <a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2ffloating-limits%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/floating-limits?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">Floating Limits</a> for the ranges of floating types.) If the original value isn't representable precisely, it can be converted to either the next higher or the next lower representable value. The result is undefined if no such value exists. Consider the following example:</p><div id="ID141" class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs" id="ID141_tabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID141_tabimgleft"></div><div id="ID141_tab1" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JavaScript</a></div><div id="ID141_tab2" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>C#</a></div><div id="ID141_tab3" class="OH_CodeSnippetContainerTabActive" EnableCopyCode="true"><a class="languagecode" id="2" href="javascript:ChangeTab('ID141','C++','3','6')">C++</a></div><div id="ID141_tab4" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>F#</a></div><div id="ID141_tab5" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JScript</a></div><div id="ID141_tab6" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>VB</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID141_tabimgright"></div></div><div id="ID141_codecollection" class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID141_ViewColorized" href="javascript:ExchangeTitleContent('ID141','6')" title="View Colorized" style="display: none">View Colorized</a><a id="ID141_copycode" href="javascript:CopyToClipboard('ID141','6')" title="Copy to Clipboard" style="display: none">Copy to Clipboard</a></div></div><div id="ID141_code_Div1" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID141_code_Plain_Div1" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID141_code_Div2" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID141_code_Plain_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID141_code_Div3" class="OH_CodeSnippetContainerCode" style="display: block"><pre>cout &lt;&lt; (<span style="color:blue">float</span>)1E300 &lt;&lt; endl;
</pre></div><div id="ID141_code_Plain_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre>cout &lt;&lt; (float)1E300 &lt;&lt; endl;</pre></div><div id="ID141_code_Div4" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID141_code_Plain_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID141_code_Div5" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID141_code_Plain_Div5" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID141_code_Div6" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID141_code_Plain_Div6" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div></div></div><script>addSpecificTextLanguageTagSet('ID141');</script><p>The maximum value representable by type <span style="font-weight:bold">float</span> is 3.402823466E38 — a much smaller number than 1E300. Therefore, the number is converted to infinity, and the result is "inf".</p><h2 id="conversions-between-integral-and-floating-point-types">Conversions between integral and floating point types</h2><p>Certain expressions can cause objects of floating type to be converted to integral types, or vice versa. When an object of integral type is converted to a floating type, and the original value isn't representable exactly, the result is either the next higher or the next lower representable value.</p><p>When an object of floating type is converted to an integral type, the fractional part is <span style="font-style:italic">truncated</span>, or rounded toward zero. A number like 1.3 is converted to 1, and -1.3 is converted to -1. If the truncated value is higher than the highest representable value, or lower than the lowest representable value, the result is undefined.</p><h2 id="arithmetic-conversions">Arithmetic conversions</h2><p>Many binary operators (discussed in <a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2fexpressions-with-binary-operators%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/expressions-with-binary-operators?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">Expressions with binary operators</a>) cause conversions of operands, and yield results the same way. The conversions these operators cause are called <span style="font-style:italic">usual arithmetic conversions</span>. Arithmetic conversions of operands that have different native types are done as shown in the following table. Typedef types behave according to their underlying native types.</p><h3 id="conditions-for-type-conversion">Conditions for type conversion</h3><table><thead><tr><th>Conditions Met</th><th>Conversion</th></tr></thead><tbody><tr><td>Either operand is of type <span style="font-weight:bold">long double</span>.</td><td>Other operand is converted to type <span style="font-weight:bold">long double</span>.</td></tr><tr><td>Preceding condition not met and either operand is of type <span style="font-weight:bold">double</span>.</td><td>Other operand is converted to type <span style="font-weight:bold">double</span>.</td></tr><tr><td>Preceding conditions not met and either operand is of type <span style="font-weight:bold">float</span>.</td><td>Other operand is converted to type <span style="font-weight:bold">float</span>.</td></tr><tr><td>Preceding conditions not met (none of the operands are of floating types).</td><td>Operands get integral promotions as follows:<br /><br />- If either operand is of type <span style="font-weight:bold">unsigned long</span>, the other operand is converted to type <span style="font-weight:bold">unsigned long</span>.<br />- If preceding condition not met, and if either operand is of type <span style="font-weight:bold">long</span> and the other of type <span style="font-weight:bold">unsigned int</span>, both operands are converted to type <span style="font-weight:bold">unsigned long</span>.<br />- If the preceding two conditions aren't met, and if either operand is of type <span style="font-weight:bold">long</span>, the other operand is converted to type <span style="font-weight:bold">long</span>.<br />- If the preceding three conditions aren't met, and if either operand is of type <span style="font-weight:bold">unsigned int</span>, the other operand is converted to type <span style="font-weight:bold">unsigned int</span>.<br />- If none of the preceding conditions are met, both operands are converted to type <span style="font-weight:bold">int</span>.</td></tr></tbody></table><p>The following code illustrates the conversion rules described in the table:</p><div id="ID194" class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs" id="ID194_tabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID194_tabimgleft"></div><div id="ID194_tab1" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JavaScript</a></div><div id="ID194_tab2" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>C#</a></div><div id="ID194_tab3" class="OH_CodeSnippetContainerTabActive" EnableCopyCode="true"><a class="languagecode" id="2" href="javascript:ChangeTab('ID194','C++','3','6')">C++</a></div><div id="ID194_tab4" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>F#</a></div><div id="ID194_tab5" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JScript</a></div><div id="ID194_tab6" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>VB</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID194_tabimgright"></div></div><div id="ID194_codecollection" class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID194_ViewColorized" href="javascript:ExchangeTitleContent('ID194','6')" title="View Colorized" style="display: none">View Colorized</a><a id="ID194_copycode" href="javascript:CopyToClipboard('ID194','6')" title="Copy to Clipboard" style="display: none">Copy to Clipboard</a></div></div><div id="ID194_code_Div1" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID194_code_Plain_Div1" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID194_code_Div2" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID194_code_Plain_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID194_code_Div3" class="OH_CodeSnippetContainerCode" style="display: block"><pre><span style="color:blue">double</span> dVal;
<span style="color:blue">float</span> fVal;
<span style="color:blue">int</span> iVal;
<span style="color:blue">unsigned</span> <span style="color:blue">long</span> ulVal;

<span style="color:blue">int</span> main() {
   <span style="color:green">// iVal converted to unsigned long</span>
   <span style="color:green">// result of multiplication converted to double</span>
   dVal = iVal * ulVal;

   <span style="color:green">// ulVal converted to float</span>
   <span style="color:green">// result of addition converted to double</span>
   dVal = ulVal + fVal;
}
</pre></div><div id="ID194_code_Plain_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre>double dVal;
float fVal;
int iVal;
unsigned long ulVal;

int main() {
   // iVal converted to unsigned long
   // result of multiplication converted to double
   dVal = iVal * ulVal;

   // ulVal converted to float
   // result of addition converted to double
   dVal = ulVal + fVal;
}</pre></div><div id="ID194_code_Div4" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID194_code_Plain_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID194_code_Div5" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID194_code_Plain_Div5" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID194_code_Div6" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID194_code_Plain_Div6" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div></div></div><script>addSpecificTextLanguageTagSet('ID194');</script><p>The first statement in the preceding example shows multiplication of two integral types, <span class="input">iVal</span> and <span class="input">ulVal</span>. The condition met is that neither operand is of floating type, and one operand is of type <span style="font-weight:bold">unsigned int</span>. So, the other operand, <span class="input">iVal</span>, is converted to type <span style="font-weight:bold">unsigned int</span>. The result is then assigned to <span class="input">dVal</span>. The condition met here is that one operand is of type <span style="font-weight:bold">double</span>, so the <span style="font-weight:bold">unsigned int</span> result of the multiplication is converted to type <span style="font-weight:bold">double</span>.</p><p>The second statement in the preceding example shows addition of a <span style="font-weight:bold">float</span> and an integral type: <span class="input">fVal</span> and <span class="input">ulVal</span>. The <span class="input">ulVal</span> variable is converted to type <span style="font-weight:bold">float</span> (third condition in the table). The result of the addition is converted to type <span style="font-weight:bold">double</span> (second condition in the table) and assigned to <span class="input">dVal</span>.</p><h2 id="pointer-conversions">Pointer conversions</h2><p>Pointers can be converted during assignment, initialization, comparison, and other expressions.</p><h3 id="pointer-to-classes">Pointer to classes</h3><p>There are two cases in which a pointer to a class can be converted to a pointer to a base class.</p><p>The first case is when the specified base class is accessible and the conversion is unambiguous. For more information about ambiguous base-class references, see <a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2fmultiple-base-classes%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/multiple-base-classes?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">Multiple base classes</a>.</p><p>Whether a base class is accessible depends on the kind of inheritance used in derivation. Consider the inheritance illustrated in the following figure.</p><p><img class="mtps-img-src" src="ms-xhelp:///?method=asset&amp;id=f616b834-6fb1-e451-fdec-684cd6244bc9.gif&amp;package=v2Visual Studio 2017- C++_BC6C65FD_en-us__0.mshc&amp;topiclocale=EN-US" alt="Inheritance graph showing base-class accessibility" title="Inheritance graph showing base-class accessibility" /><br />
Inheritance Graph for Illustration of Base-Class Accessibility</p><p>The following table shows the base-class accessibility for the situation illustrated in the figure.</p><table><thead><tr><th>Type of Function</th><th>Derivation</th><th>Conversion from<br /><br /> B* to A* Legal?</th></tr></thead><tbody><tr><td>External (not class-scoped) function</td><td>Private</td><td>No</td></tr><tr><td></td><td>Protected</td><td>No</td></tr><tr><td></td><td>Public</td><td>Yes</td></tr><tr><td>B member function (in B scope)</td><td>Private</td><td>Yes</td></tr><tr><td></td><td>Protected</td><td>Yes</td></tr><tr><td></td><td>Public</td><td>Yes</td></tr><tr><td>C member function (in C scope)</td><td>Private</td><td>No</td></tr><tr><td></td><td>Protected</td><td>Yes</td></tr><tr><td></td><td>Public</td><td>Yes</td></tr></tbody></table><p>The second case in which a pointer to a class can be converted to a pointer to a base class is when you use an explicit type conversion. For more information about explicit type conversions, see <a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2fexplicit-type-conversion-operator-parens%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/explicit-type-conversion-operator-parens?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">Explicit type conversion operator</a>.</p><p>The result of such a conversion is a pointer to the <span style="font-style:italic">subobject</span>, the portion of the object that is completely described by the base class.</p><p>The following code defines two classes, <span class="input">A</span> and <span class="input">B</span>, where <span class="input">B</span> is derived from <span class="input">A</span>. (For more information on inheritance, see <a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2finheritance-cpp%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/inheritance-cpp?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">Derived Classes</a>.) It then defines <span class="input">bObject</span>, an object of type <span class="input">B</span>, and two pointers (<span class="input">pA</span> and <span class="input">pB</span>) that point to the object.</p><div id="ID283" class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs" id="ID283_tabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID283_tabimgleft"></div><div id="ID283_tab1" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JavaScript</a></div><div id="ID283_tab2" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>C#</a></div><div id="ID283_tab3" class="OH_CodeSnippetContainerTabActive" EnableCopyCode="true"><a class="languagecode" id="2" href="javascript:ChangeTab('ID283','C++','3','6')">C++</a></div><div id="ID283_tab4" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>F#</a></div><div id="ID283_tab5" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JScript</a></div><div id="ID283_tab6" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>VB</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID283_tabimgright"></div></div><div id="ID283_codecollection" class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID283_ViewColorized" href="javascript:ExchangeTitleContent('ID283','6')" title="View Colorized" style="display: none">View Colorized</a><a id="ID283_copycode" href="javascript:CopyToClipboard('ID283','6')" title="Copy to Clipboard" style="display: none">Copy to Clipboard</a></div></div><div id="ID283_code_Div1" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID283_code_Plain_Div1" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID283_code_Div2" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID283_code_Plain_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID283_code_Div3" class="OH_CodeSnippetContainerCode" style="display: block"><pre><span style="color:green">// C2039 expected</span>
<span style="color:blue">class</span> A
{
<span style="color:blue">public</span>:
    <span style="color:blue">int</span> AComponent;
    <span style="color:blue">int</span> AMemberFunc();
};

<span style="color:blue">class</span> B : <span style="color:blue">public</span> A
{
<span style="color:blue">public</span>:
    <span style="color:blue">int</span> BComponent;
    <span style="color:blue">int</span> BMemberFunc();
};
<span style="color:blue">int</span> main()
{
   B bObject;
   A *pA = &amp;bObject;
   B *pB = &amp;bObject;

   pA-&gt;AMemberFunc();   <span style="color:green">// OK in class A</span>
   pB-&gt;AMemberFunc();   <span style="color:green">// OK: inherited from class A</span>
   pA-&gt;BMemberFunc();   <span style="color:green">// Error: not in class A</span>
}
</pre></div><div id="ID283_code_Plain_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre>// C2039 expected
class A
{
public:
    int AComponent;
    int AMemberFunc();
};

class B : public A
{
public:
    int BComponent;
    int BMemberFunc();
};
int main()
{
   B bObject;
   A *pA = &amp;bObject;
   B *pB = &amp;bObject;

   pA-&gt;AMemberFunc();   // OK in class A
   pB-&gt;AMemberFunc();   // OK: inherited from class A
   pA-&gt;BMemberFunc();   // Error: not in class A
}</pre></div><div id="ID283_code_Div4" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID283_code_Plain_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID283_code_Div5" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID283_code_Plain_Div5" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID283_code_Div6" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID283_code_Plain_Div6" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div></div></div><script>addSpecificTextLanguageTagSet('ID283');</script><p>The pointer <span class="input">pA</span> is of type <span class="input">A *</span>, which can be interpreted as meaning "pointer to an object of type <span class="input">A</span>." Members of <span class="input">bObject</span> (such as <span class="input">BComponent</span> and <span class="input">BMemberFunc</span>) are unique to type <span class="input">B</span> and are therefore inaccessible through <span class="input">pA</span>. The <span class="input">pA</span> pointer allows access only to those characteristics (member functions and data) of the object that are defined in class <span class="input">A</span>.</p><h3 id="pointer-to-function">Pointer to function</h3><p>A pointer to a function can be converted to type <span class="input">void *</span>, if type <span class="input">void *</span> is large enough to hold that pointer.</p><h3 id="pointer-to-void">Pointer to void</h3><p>Pointers to type <span style="font-weight:bold">void</span> can be converted to pointers to any other type, but only with an explicit type cast (unlike in C). A pointer to any type can be converted implicitly to a pointer to type <span style="font-weight:bold">void</span>. A pointer to an incomplete object of a type can be converted to a pointer to <span style="font-weight:bold">void</span> (implicitly) and back (explicitly). The result of such a conversion is equal to the value of the original pointer. An object is considered incomplete if it's declared, but there's insufficient information available to determine its size or base class.</p><p>A pointer to any object that is not <span style="font-weight:bold">const</span> or <span style="font-weight:bold">volatile</span> can be implicitly converted to a pointer of type <span class="input">void *</span>.</p><h3 id="const-and-volatile-pointers">const and volatile pointers</h3><p>C++ doesn't supply a standard conversion from a <span style="font-weight:bold">const</span> or <span style="font-weight:bold">volatile</span> type to a type that's not <span style="font-weight:bold">const</span> or <span style="font-weight:bold">volatile</span>. However, any sort of conversion can be specified using explicit type casts (including conversions that are unsafe).</p><div class="NOTE"><p>Note</p><p>C++ pointers to members, except pointers to static members, are different from normal pointers and don't have the same standard conversions. Pointers to static members are normal pointers and have the same conversions as normal pointers.</p></div><h3 id="null-pointer-conversions">null pointer conversions</h3><p>An integral constant expression that evaluates to zero, or such an expression cast to a pointer type, is converted to a pointer called the <span style="font-style:italic">null pointer</span>. This pointer always compares unequal to a pointer to any valid object or function. An exception is pointers to based objects, which can have the same offset and still point to different objects.</p><p>In C++11, the <a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2fnullptr%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/nullptr?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">nullptr</a> type should be preferred to the C-style null pointer.</p><h3 id="pointer-expression-conversions">Pointer expression conversions</h3><p>Any expression with an array type can be converted to a pointer of the same type. The result of the conversion is a pointer to the first array element. The following example demonstrates such a conversion:</p><div id="ID324" class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs" id="ID324_tabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID324_tabimgleft"></div><div id="ID324_tab1" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JavaScript</a></div><div id="ID324_tab2" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>C#</a></div><div id="ID324_tab3" class="OH_CodeSnippetContainerTabActive" EnableCopyCode="true"><a class="languagecode" id="2" href="javascript:ChangeTab('ID324','C++','3','6')">C++</a></div><div id="ID324_tab4" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>F#</a></div><div id="ID324_tab5" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JScript</a></div><div id="ID324_tab6" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>VB</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID324_tabimgright"></div></div><div id="ID324_codecollection" class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID324_ViewColorized" href="javascript:ExchangeTitleContent('ID324','6')" title="View Colorized" style="display: none">View Colorized</a><a id="ID324_copycode" href="javascript:CopyToClipboard('ID324','6')" title="Copy to Clipboard" style="display: none">Copy to Clipboard</a></div></div><div id="ID324_code_Div1" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID324_code_Plain_Div1" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID324_code_Div2" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID324_code_Plain_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID324_code_Div3" class="OH_CodeSnippetContainerCode" style="display: block"><pre><span style="color:blue">char</span> szPath[_MAX_PATH]; <span style="color:green">// Array of type char.</span>
<span style="color:blue">char</span> *pszPath = szPath; <span style="color:green">// Equals &amp;szPath[0].</span>
</pre></div><div id="ID324_code_Plain_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre>char szPath[_MAX_PATH]; // Array of type char.
char *pszPath = szPath; // Equals &amp;szPath[0].</pre></div><div id="ID324_code_Div4" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID324_code_Plain_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID324_code_Div5" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID324_code_Plain_Div5" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID324_code_Div6" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID324_code_Plain_Div6" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div></div></div><script>addSpecificTextLanguageTagSet('ID324');</script><p>An expression that results in a function returning a particular type is converted to a pointer to a function returning that type, except when:</p><ul><li><p>The expression is used as an operand to the address-of operator (<span style="font-weight:bold">&amp;</span>).</p></li><li><p>The expression is used as an operand to the function-call operator.</p></li></ul><h2 id="reference-conversions">Reference conversions</h2><p>A reference to a class can be converted to a reference to a base class in these cases:</p><ul><li><p>The specified base class is accessible.</p></li><li><p>The conversion is unambiguous. (For more information about ambiguous base-class references, see <a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2fmultiple-base-classes%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/multiple-base-classes?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">Multiple base classes</a>.)</p></li></ul><p>The result of the conversion is a pointer to the subobject that represents the base class.</p><h2 id="pointer-to-member">Pointer to member</h2><p>Pointers to class members can be converted during assignment, initialization, comparison, and other expressions. This section describes the following pointer-to-member conversions:</p><h3 id="pointer-to-base-class-member">Pointer to base class member</h3><p>A pointer to a member of a base class can be converted to a pointer to a member of a class derived from it, when the following conditions are met:</p><ul><li><p>The inverse conversion, from pointer to derived class to base-class pointer, is accessible.</p></li><li><p>The derived class does not inherit virtually from the base class.</p></li></ul><p>When the left operand is a pointer to member, the right operand must be of pointer-to-member type or be a constant expression that evaluates to 0. This assignment is valid only in the following cases:</p><ul><li><p>The right operand is a pointer to a member of the same class as the left operand.</p></li><li><p>The left operand is a pointer to a member of a class derived publicly and unambiguously from the class of the right operand.</p></li></ul><h3 id="null-pointer-to-member-conversions">null pointer to member conversions</h3><p>An integral constant expression that evaluates to zero is converted to a null pointer. This pointer always compares unequal to a pointer to any valid object or function. An exception is pointers to based objects, which can have the same offset and still point to different objects.</p><p>The following code illustrates the definition of a pointer to member <span class="input">i</span> in class <span class="input">A</span>. The pointer, <span class="input">pai</span>, is initialized to 0, which is the null pointer.</p><div id="ID362" class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs" id="ID362_tabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID362_tabimgleft"></div><div id="ID362_tab1" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JavaScript</a></div><div id="ID362_tab2" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>C#</a></div><div id="ID362_tab3" class="OH_CodeSnippetContainerTabActive" EnableCopyCode="true"><a class="languagecode" id="2" href="javascript:ChangeTab('ID362','C++','3','6')">C++</a></div><div id="ID362_tab4" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>F#</a></div><div id="ID362_tab5" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>JScript</a></div><div id="ID362_tab6" class="OH_CodeSnippetContainerTabDisabledNotFirst" EnableCopyCode="false" disabled="true"><a>VB</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID362_tabimgright"></div></div><div id="ID362_codecollection" class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID362_ViewColorized" href="javascript:ExchangeTitleContent('ID362','6')" title="View Colorized" style="display: none">View Colorized</a><a id="ID362_copycode" href="javascript:CopyToClipboard('ID362','6')" title="Copy to Clipboard" style="display: none">Copy to Clipboard</a></div></div><div id="ID362_code_Div1" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID362_code_Plain_Div1" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID362_code_Div2" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID362_code_Plain_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID362_code_Div3" class="OH_CodeSnippetContainerCode" style="display: block"><pre><span style="color:blue">class</span> A
{
<span style="color:blue">public</span>:
<span style="color:blue">int</span> i;
};

<span style="color:blue">int</span> A::*pai = 0;

<span style="color:blue">int</span> main()
{
}
</pre></div><div id="ID362_code_Plain_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre>class A
{
public:
int i;
};

int A::*pai = 0;

int main()
{
}</pre></div><div id="ID362_code_Div4" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID362_code_Plain_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID362_code_Div5" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID362_code_Plain_Div5" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div><div id="ID362_code_Div6" class="OH_CodeSnippetContainerCode" style=""><pre /></div><div id="ID362_code_Plain_Div6" class="OH_CodeSnippetContainerCode" style="display: none"><pre /></div></div></div><script>addSpecificTextLanguageTagSet('ID362');</script><h2 id="see-also">See also</h2><p><a class="ops-internal-link" href="ms-xhelp:///?method=page&amp;id=vs.vcppdocs%2fcpp%2fcpp-language-reference%3fview%3dvs-2017&amp;onlinefallbackbase=https://docs.microsoft.com/en-us/cpp/cpp/cpp-language-reference?view=vs-2017&amp;vendor=Microsoft&amp;topicVersion=-1&amp;topicLocale=EN-US">C++ language reference</a></p></div></div></div></div></div>
    </div>
    <div class="OH_footer">
      <p>Copyright © Microsoft Corporation. All rights reserved.</p>
    </div>
  </body>
</html>